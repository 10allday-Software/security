{
  "AWSTemplateFormatVersion":"2010-09-09",
  "Description":"Create Account Updates SNS Topic",
  "Metadata":{
    "Source":"https://github.com/mozilla/security/tree/master/operations/cloudformation-templates"
  },
  "Resources":{
    "AccountUpdatesTopic":{
      "Type":"AWS::SNS::Topic",
      "Properties":{
        "DisplayName":"Topic for Mozilla accounts to publish updates to",
        "TopicName":"AccountUpdates"
      }
    },
    "AccountUpdatesTopicPolicy":{
      "Type":"AWS::SNS::TopicPolicy",
      "Properties":{
        "Topics":[
          {
            "Ref":"AccountUpdatesTopic"
          }
        ],
        "PolicyDocument":{
          "Version":"2012-10-17",
          "Id":"AccountUpdatesPolicy",
          "Statement":[
            {
              "Action":"SNS:Publish",
              "Principal":{
                "AWS":[
                  "arn:aws:iam::177680776199:root",
                  "arn:aws:iam::230871113385:root",
                  "arn:aws:iam::236517346949:root",
                  "arn:aws:iam::248062938574:root",
                  "arn:aws:iam::297425925056:root",
                  "arn:aws:iam::298283239067:root",
                  "arn:aws:iam::314336048151:root",
                  "arn:aws:iam::315031162935:root",
                  "arn:aws:iam::330914478726:root",
                  "arn:aws:iam::342958218804:root",
                  "arn:aws:iam::369987351092:root",
                  "arn:aws:iam::371522382791:root",
                  "arn:aws:iam::423163539776:root",
                  "arn:aws:iam::461454502437:root",
                  "arn:aws:iam::484535289196:root",
                  "arn:aws:iam::579398555466:root",
                  "arn:aws:iam::586912254304:root",
                  "arn:aws:iam::589768463761:root",
                  "arn:aws:iam::598097830519:root",
                  "arn:aws:iam::604263479206:root",
                  "arn:aws:iam::647505682097:root",
                  "arn:aws:iam::656532927350:root",
                  "arn:aws:iam::685978374768:root",
                  "arn:aws:iam::692406183521:root",
                  "arn:aws:iam::699292812394:root",
                  "arn:aws:iam::746137190251:root",
                  "arn:aws:iam::848733727550:root",
                  "arn:aws:iam::849642146520:root",
                  "arn:aws:iam::882583487281:root",
                  "arn:aws:iam::088944123687:root",
                  "arn:aws:iam::890664054962:root",
                  "arn:aws:iam::900729305249:root",
                  "arn:aws:iam::937327690348:root",
                  "arn:aws:iam::961228743890:root",
                  "arn:aws:iam::329567179436:root",
                  "arn:aws:iam::351644144250:root",
                  "arn:aws:iam::142069644989:root",
                  "arn:aws:iam::361527076523:root",
                  "arn:aws:iam::927034868273:root",
                  "arn:aws:iam::613808223628:root"
                ]
              },
              "Resource":{
                "Ref":"AccountUpdatesTopic"
              },
              "Effect":"Allow",
              "Sid":"AccountUpdatesPublisher"
            },
            {
              "Action":[
                "SNS:GetTopicAttributes",
                "SNS:ListSubscriptionsByTopic",
                "SNS:Subscribe"
              ],
              "Principal":{
                "AWS":[
                  "arn:aws:iam::371522382791:root"
                ]
              },
              "Resource":{
                "Ref":"AccountUpdatesTopic"
              },
              "Effect":"Allow",
              "Sid":"AccountUpdatesSubscriber"
            }
          ]
        }
      }
    }
  }
}